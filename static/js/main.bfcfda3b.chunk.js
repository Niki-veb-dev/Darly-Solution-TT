(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r,c,s=a(26),n=a(7),i=a.n(n),o=a(23),l=a(35),u=a.n(l),b=(a(42),a(12)),j=(a(43),a(11)),d=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"box",children:"Hi, how are you ?"}),Object(j.jsx)(o.b,{to:"/",className:"button is-succes",children:"go back"})]})},p=a(0),h=a.n(p),m=a(2),O=a(3),x=a(33),f=a(14),w=(a(45),a(49),function(e){var t=e.data,a=e.hasCreate,r=e.hasEmailError,s=e.errorFromServer,n=e.hasPasswordError,i=e.isAuthentication,o=e.handleBlur,l=e.handleSubmit,u=e.handleChange;return Object(j.jsx)("div",{className:"starter",children:Object(j.jsxs)("form",{className:"box",children:[Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("label",{className:"label",htmlFor:"email",children:["Email",Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{id:"email",type:"email",name:"email",className:"input",onBlur:o,onChange:u,value:t.email||"",placeholder:"e.g. alex@example.com"})}),r&&Object(j.jsx)("p",{className:"error",children:"write your email address (example@mail.com)"})]})}),Object(j.jsx)("div",{className:"field",children:Object(j.jsxs)("label",{className:"label",htmlFor:"password",children:["Password",Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{id:"password",min:Number(8),type:"password",name:"password",className:"input",onBlur:o,placeholder:"********",onChange:u,value:t.password||""})}),n&&Object(j.jsxs)("p",{className:"error",children:["write your password",Object(j.jsx)("br",{})," ","(min length 8)"]})]})}),!i&&Object(j.jsx)("div",{className:"error",children:s.slice(5)}),a&&Object(j.jsxs)("span",{className:"icon-text has-text-success",children:[Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{className:"fas fa-check-square"})}),Object(j.jsx)("div",{children:"Good work, account created, now log in"}),Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(j.jsx)("button",{className:"button is-primary",name:c.LOGIN,onClick:l,type:"submit",children:"Login"}),Object(j.jsx)("button",{className:"button is-primary",name:c.CREATE,onClick:l,type:"submit",children:"Create account"})]})]})})});!function(e){e.EMAIL="email",e.PASSWORD="password"}(r||(r={})),function(e){e.LOGIN="login",e.CREATE="create"}(c||(c={}));var v=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(f.a)(e,2),a=t[0],i=t[1],o=Object(b.f)(),l=Object(n.useState)(!1),u=Object(f.a)(l,2),d=u[0],p=u[1],v=Object(n.useState)(!1),N=Object(f.a)(v,2),k=N[0],g=N[1],E=Object(n.useState)(""),y=Object(f.a)(E,2),S=y[0],A=y[1],C=Object(n.useState)(!1),I=Object(f.a)(C,2),P=I[0],R=I[1],z=Object(n.useState)(!0),L=Object(f.a)(z,2),B=L[0],D=L[1],M=function(){i({email:"",password:""})},W=function(e){return/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e)},_=function(e){return e>=8},F=function(e,t){switch(e){case r.EMAIL:g(!W(t));break;case r.PASSWORD:R(!_(t.length));break;default:throw new Error("unknown input type")}},G=function(){var e=Object(m.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.auth().createUserWithEmailAndPassword(t,a);case 3:p(!0),M(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),D(!1),A(e.t0.code);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.auth().signInWithEmailAndPassword(t,a);case 3:o("/home"),M(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),A(e.t0.code),D(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=t.currentTarget.name,n=a.email,i=a.password,!W(n)||!_(i.length)){e.next=14;break}e.t0=s,e.next=e.t0===c.CREATE?7:e.t0===c.LOGIN?9:11;break;case 7:return G(n,i),e.abrupt("break",12);case 9:return T(n,i),e.abrupt("break",12);case 11:throw new Error("unknown button type");case 12:e.next=16;break;case 14:F(r.EMAIL,n),F(r.PASSWORD,i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){M()}}),[]),Object(j.jsx)(w,{data:a,hasCreate:d,hasEmailError:k,errorFromServer:S,hasPasswordError:P,isAuthentication:B,handleSubmit:q,handleChange:function(e){var t=e.target,r=t.name,c=t.value;F(r,c),D(!0),A(""),p(!1),i(Object(x.a)(Object(x.a)({},a),{},Object(O.a)({},r,c)))},handleBlur:function(e){var t=e.target,a=t.name,r=t.value;F(a,r)}})},N=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"block",children:"Page not found"}),Object(j.jsx)(o.b,{to:"/",className:"button is-succes",children:"go back"})]})},k=function(){return Object(j.jsx)("div",{className:"starter",children:Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{path:"/",element:Object(j.jsx)(v,{})}),Object(j.jsx)(b.a,{path:"/home",element:Object(j.jsx)(d,{})}),Object(j.jsx)(b.a,{path:"*",element:Object(j.jsx)(N,{})})]})})};s.a.initializeApp({apiKey:"AIzaSyB3ztw78QbRqpAbw7CRO00Z-Mh5QPa9_-4",authDomain:"fir-test-project-8bd3a.firebaseapp.com",databaseURL:"https://fir-test-project-8bd3a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fir-test-project-8bd3a",storageBucket:"fir-test-project-8bd3a.appspot.com",messagingSenderId:"400610114990",appId:"1:400610114990:web:a8f1d61f4a538229715c3f"}),u.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(k,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.bfcfda3b.chunk.js.map